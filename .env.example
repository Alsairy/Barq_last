# BARQ Environment Configuration Template
# Copy this file to .env and update with your values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_CONNECTION_STRING="Server=localhost,1433;Database=BARQ_DEV_DB;User Id=sa;Password=YourStrong@Passw0rd;TrustServerCertificate=true;MultipleActiveResultSets=true"

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_CONNECTION_STRING="localhost:6379"

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
JWT_SECRET_KEY="your-super-secret-jwt-key-change-this-in-production"
JWT_ISSUER="https://localhost:5000"
JWT_AUDIENCE="barq-users"
JWT_EXPIRY_HOURS="24"

# Cookie Authentication
COOKIE_AUTH_ENABLED="true"
COOKIE_NAME="__Host-Auth"
COOKIE_SECURE="true"
COOKIE_SAME_SITE="Strict"

# CSRF Protection
CSRF_ENABLED="true"
CSRF_TOKEN_NAME="XSRF-TOKEN"

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ALLOWED_ORIGINS="http://localhost:3000,https://localhost:3000"
CORS_ALLOW_CREDENTIALS="true"

# =============================================================================
# AI PROVIDERS
# =============================================================================
# OpenAI
OPENAI_API_KEY="sk-your-openai-api-key-here"
OPENAI_MODEL="gpt-4"
OPENAI_MAX_TOKENS="2048"
OPENAI_TEMPERATURE="0.7"

# Azure OpenAI
AZURE_OPENAI_ENDPOINT="https://your-resource.openai.azure.com/"
AZURE_OPENAI_API_KEY="your-azure-openai-key"
AZURE_OPENAI_DEPLOYMENT_NAME="gpt-4"

# =============================================================================
# FLOWABLE BPM
# =============================================================================
FLOWABLE_BASE_URL="http://localhost:8080"
FLOWABLE_USERNAME="admin"
FLOWABLE_PASSWORD="test"
FLOWABLE_TIMEOUT_SECONDS="30"

# =============================================================================
# FILE STORAGE
# =============================================================================
# Local Storage (Development)
FILE_STORAGE_TYPE="Local"
FILE_STORAGE_PATH="/app/uploads"
FILE_MAX_SIZE_MB="100"

# Azure Blob Storage (Production)
# FILE_STORAGE_TYPE="AzureBlob"
# AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;AccountName=barqstorage;AccountKey=your-key;EndpointSuffix=core.windows.net"
# AZURE_STORAGE_CONTAINER="barq-files"

# AWS S3 (Alternative)
# FILE_STORAGE_TYPE="S3"
# AWS_ACCESS_KEY_ID="your-access-key"
# AWS_SECRET_ACCESS_KEY="your-secret-key"
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="barq-files"

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SMTP Settings
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USERNAME="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_USE_SSL="true"
SMTP_FROM_EMAIL="noreply@barq.com"
SMTP_FROM_NAME="BARQ Platform"

# SendGrid (Alternative)
# EMAIL_PROVIDER="SendGrid"
# SENDGRID_API_KEY="your-sendgrid-api-key"

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Application Insights
APPLICATION_INSIGHTS_CONNECTION_STRING="InstrumentationKey=your-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/"

# Serilog Configuration
LOG_LEVEL="Information"
LOG_TO_CONSOLE="true"
LOG_TO_FILE="true"
LOG_FILE_PATH="/app/logs/barq-.log"

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_FLAGS_ENABLED="true"
FEATURE_AI_ORCHESTRATION="true"
FEATURE_WORKFLOW_ENGINE="true"
FEATURE_FILE_SCANNING="true"
FEATURE_BILLING_QUOTAS="true"
FEATURE_IMPERSONATION="true"

# =============================================================================
# ANTI-VIRUS SCANNING
# =============================================================================
ANTIVIRUS_ENABLED="true"
ANTIVIRUS_TYPE="ClamAV"
CLAMAV_HOST="localhost"
CLAMAV_PORT="3310"

# =============================================================================
# BILLING & QUOTAS
# =============================================================================
BILLING_ENABLED="true"
QUOTA_ENFORCEMENT="true"
DEFAULT_PLAN_ID="free"

# Stripe (if using Stripe for billing)
# STRIPE_PUBLIC_KEY="pk_test_your-stripe-public-key"
# STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
# STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
ASPNETCORE_ENVIRONMENT="Development"
ASPNETCORE_URLS="http://localhost:5000"

# Hot Reload
DOTNET_WATCH_RESTART_ON_RUDE_EDIT="true"

# Entity Framework
EF_DESIGN_TIME_PROVIDER="Microsoft.EntityFrameworkCore.SqlServer"

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
REACT_APP_API_URL="http://localhost:5000"
REACT_APP_WS_URL="ws://localhost:5000"
REACT_APP_ENVIRONMENT="development"
REACT_APP_VERSION="2.1.0"

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
TEST_DATABASE_CONNECTION="Server=localhost,1433;Database=BARQ_TEST_DB;User Id=sa;Password=YourStrong@Passw0rd;TrustServerCertificate=true"
TEST_REDIS_CONNECTION="localhost:6379"

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and modify for production deployment

# ASPNETCORE_ENVIRONMENT="Production"
# ASPNETCORE_URLS="https://+:443;http://+:80"
# JWT_ISSUER="https://api.barq.com"
# CORS_ALLOWED_ORIGINS="https://app.barq.com"
# COOKIE_SECURE="true"
# CSRF_ENABLED="true"
# LOG_LEVEL="Warning"

# =============================================================================
# DOCKER COMPOSE OVERRIDES
# =============================================================================
# These are used by docker-compose files

# SQL Server
SA_PASSWORD="YourStrong@Passw0rd"
MSSQL_PID="Express"

# Redis
REDIS_PASSWORD=""

# Flowable
FLOWABLE_DATABASE_TYPE="mssql"
FLOWABLE_DATABASE_URL="jdbc:sqlserver://sql-server:1433;databaseName=flowable"
FLOWABLE_DATABASE_USERNAME="sa"
FLOWABLE_DATABASE_PASSWORD="YourStrong@Passw0rd"

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTH_CHECK_TIMEOUT_SECONDS="30"
HEALTH_CHECK_INTERVAL_SECONDS="60"

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
MAX_REQUEST_SIZE_MB="100"
REQUEST_TIMEOUT_SECONDS="300"
CONNECTION_POOL_SIZE="100"

# =============================================================================
# SECURITY HEADERS
# =============================================================================
SECURITY_HEADERS_ENABLED="true"
HSTS_MAX_AGE_SECONDS="31536000"
CSP_ENABLED="true"
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMITING_ENABLED="true"
RATE_LIMIT_REQUESTS_PER_MINUTE="100"
RATE_LIMIT_BURST_SIZE="20"

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED="true"
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS="30"
BACKUP_STORAGE_PATH="/backups"

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit this file with real secrets to version control
# 2. Use Azure Key Vault, AWS Secrets Manager, or similar for production secrets
# 3. Rotate secrets regularly
# 4. Use strong, unique passwords for all services
# 5. Enable SSL/TLS for all external connections in production
